# file: Dockerfile
# description: Create working enviroment for bad actor Mallory
#
# @author Derek Garcia
FROM base-env

# create user mallory
RUN adduser -D -h /home/mallory mallory
WORKDIR /home/mallory
# copy malcious npm package and listen
COPY --chown=mallory:mallory . ./
RUN cd listen && npm install && cd ..

USER mallory
ENTRYPOINT ["ash", "-c", ". /setup.sh; ash"]
